---

cdmSchema: cdm2
resultsSchema: results2
apiRoot: http://localhost:3000/api/cdms

filters:
  - invalid: true   # filter out where invalid === true
  - sc: S, C        # standard concept === S or C. but what about source concepts?
  - concept_id:
    - not: 0        # exclude 'No matching concept'



menu items:
  - Home:
    - Explore concepts/vocabularies independently
    - Explore concepts referenced in your CDM
  - Drug:
    - type: group, filter, ignore
    - class: group, filter, ignore
    - column: drug_concept_id, drug_source_concept_id
  - Condition
  - Search

left navbar:
  - Settings
  - Filters
  - History
  - Data loaded

use cases:
  - define a cohort or phenotype
  - explore the whole vocabulary
  - explore a specific domain
  - explore my popupaltion:
    - overall
    - in terms of some domain
    - defining a subpopulation (same as 1)
    - intersecion of subpopulations
  - >-
    translate existing phenotype definition (e.g., set of 
    ICD-9 codes for some condition) from a source vocabulary
    into a target vocabulary
  
attributes of use:
  - exclude concept_id=0, No matching concept
  - include only primary target columns (e.g., drug_concept_id)
  - include only primary source columns (e.g., drug_source_concept_id)

paths:
  drug_exposure:
    target: 
      class:
        blah
        foo

conceptAttributes:
  - table_name
  - column_name
    #- invalid_reason
  - standard_concept
  - domain_id
  - vocabulary_id
  - concept_class_id

tables:
  drug_exposure:
    rank: 1
    tableName: drug_exposure
    niceName: Drug Exposure
    enabled: true
    target_col: drug_concept_id
    source_col: drug_source_concept_id
    type_col: drug_type_concept_id
    fk:
      person: person_id, person_id
      provider: provider_id, provider_id
  condition_occurrence:
    rank: 2
    tableName: condition_occurrence
    niceName: Condition Occurrence
    enabled: true
    source: condition_source_concept_id
    target: condition_concept_id
    type: condition_type_concept_id
  death:
    hidden: true
    rank: 30
  measurement:
    hidden: true
    rank: 30
  observation:
    hidden: true
    rank: 30
  procedure_occurrence:
    hidden: true
    rank: 30
  visit_occurrence:
    hidden: true
    rank: 30

mightInclude:
  - care_site
  - fact_relationship -- is this table correct?
  - location?
  - observation_period?
  - payer_plan_period?
  - person (demographics?)
  - cost tables?
  - provider (specialty)?
  - visit


